using System;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using PinPadSDK.Controllers.Tables;
using PinPadSDK.Enums;

namespace PinPadSdkTests.Tables {
    [TestClass]
    public class CapkTableTests {
        [TestMethod]
        public void ValidateCapkTableWarnings() {
            CapkTable table = new CapkTable();
            CapkTableTests.ValidateCapkTableWarnings(table);
        }

        public static void ValidateCapkTableWarnings(CapkTable table) {

            BaseTableTests.ValidateBaseTableWarnings(table);

            Assert.AreEqual(EmvTableType.Capk, table.TAB_ID);

            BasePropertyTestUtils.TestProperty(table, table.T2_RID, 10);
            BasePropertyTestUtils.TestProperty(table, table.T2_CAPKIDX, 2);
            BasePropertyTestUtils.TestProperty(table, table.T2_EXP, 6);
            BasePropertyTestUtils.TestProperty(table, table.T2_MOD, 496);
            BasePropertyTestUtils.TestProperty(table, table.T2_CHKSTAT);
            BasePropertyTestUtils.TestProperty(table, table.T2_CHECKSUM, 40);

            Assert.AreEqual("61121212123456789012003123456248123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345611234567890123456789012345678901234567890000000000000000000000000000000000000000000",
                table.CommandString);
            BasePropertyTestUtils.TestCommandString(table);

            BasePropertyTestUtils.TestProperty(table, table.T2_RUF1, 2);
            Assert.AreEqual("61121212123456789012123123456248123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345611234567890123456789012345678901234567890000000000000000000000000000000000000000000",
                table.CommandString);
            BasePropertyTestUtils.TestCommandString(table);

            BasePropertyTestUtils.TestProperty(table, table.T2_RUF2, 42);
            Assert.AreEqual("61121212123456789012123123456248123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345611234567890123456789012345678901234567890123456789012345678901234567890123456789012",
                table.CommandString);
            BasePropertyTestUtils.TestCommandString(table);

        }
    }
}
